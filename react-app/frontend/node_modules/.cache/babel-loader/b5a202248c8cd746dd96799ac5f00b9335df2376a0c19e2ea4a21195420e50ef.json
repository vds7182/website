{"ast":null,"code":"var _jsxFileName = \"/Users/mihailmirosnicenko/Documents/html/lab-web/lab5/react-app/frontend/src/profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"./profile.css\";\nimport { auth, db } from \"./backend/firebase-config\"; // Import Firebase Auth and Firestore\nimport { doc, getDoc, setDoc, updateDoc } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Profile() {\n  _s();\n  const [user, setUser] = useState(null); // To store the logged-in user\n  const [profileData, setProfileData] = useState({\n    workExperience: \"\",\n    skills: \"\"\n  }); // To store profile data\n  const [editing, setEditing] = useState(false); // Track edit mode\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async currentUser => {\n      if (currentUser) {\n        setUser(currentUser);\n        const userDoc = await getDoc(doc(db, \"users\", currentUser.uid));\n        if (userDoc.exists()) {\n          setProfileData(userDoc.data());\n        }\n      } else {\n        setUser(null);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  const handleEditToggle = () => {\n    setEditing(!editing);\n  };\n  const handleSave = async () => {\n    if (user) {\n      try {\n        await setDoc(doc(db, \"users\", user.uid), profileData);\n        setEditing(false);\n        alert(\"Profile updated successfully!\");\n      } catch (error) {\n        console.error(\"Error saving profile:\", error);\n        alert(\"Failed to save profile.\");\n      }\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProfileData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/ava.jpg\",\n          width: \"200\",\n          height: \"200\",\n          alt: \"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043A\\u043E\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), editing ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"Name\",\n          value: profileData.Name,\n          onChange: handleChange,\n          placeholder: \"\\u0414\\u043E\\u0434\\u0430\\u0439\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0435 \\u0456\\u043C\\u02BC\\u044F\",\n          className: \"small-textarea\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: profileData.Name || \"Імʼя не вказано\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), \"        \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bottom-text\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D: \", user ? user.phoneNumber || \"Не вказано\" : \"Не авторизовано\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Email: \", user ? user.email : \"Не авторизовано\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text_l\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u041F\\u0420\\u041E\\u0424\\u0415\\u0421\\u0406\\u0419\\u041D\\u0418\\u0419 \\u0414\\u041E\\u0421\\u0412\\u0406\\u0414\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), editing ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"workExperience\",\n        value: profileData.workExperience,\n        onChange: handleChange,\n        placeholder: \"\\u0414\\u043E\\u0434\\u0430\\u0439\\u0442\\u0435 \\u0434\\u043E\\u0441\\u0432\\u0456\\u0434 \\u0440\\u043E\\u0431\\u043E\\u0442\\u0438\",\n        className: \"big-textarea\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: profileData.workExperience || \"Досвід роботи не вказано\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u041D\\u0410\\u0412\\u0418\\u0427\\u041A\\u0418\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), editing ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"skills\",\n        value: profileData.skills,\n        onChange: handleChange,\n        placeholder: \"\\u0414\\u043E\\u0434\\u0430\\u0439\\u0442\\u0435 \\u043D\\u0430\\u0432\\u0438\\u0447\\u043A\\u0438\",\n        className: \"big-textarea\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: profileData.skills || \"Навички не вказано\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this), user && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: editing ? handleSave : handleEditToggle,\n        className: \"change\",\n        children: editing ? \"Зберегти\" : \"Редагувати\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"5M/UX7/lG60dnqSD7y7U6V1geeg=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","auth","db","doc","getDoc","setDoc","updateDoc","jsxDEV","_jsxDEV","Profile","_s","user","setUser","profileData","setProfileData","workExperience","skills","editing","setEditing","unsubscribe","onAuthStateChanged","currentUser","userDoc","uid","exists","data","handleEditToggle","handleSave","alert","error","console","handleChange","e","name","value","target","prevData","className","children","src","width","height","alt","fileName","_jsxFileName","lineNumber","columnNumber","Name","onChange","placeholder","phoneNumber","email","onClick","_c","$RefreshReg$"],"sources":["/Users/mihailmirosnicenko/Documents/html/lab-web/lab5/react-app/frontend/src/profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./profile.css\";\nimport { auth, db } from \"./backend/firebase-config\"; // Import Firebase Auth and Firestore\nimport { doc, getDoc, setDoc, updateDoc } from \"firebase/firestore\";\n\nfunction Profile() {\n  const [user, setUser] = useState(null); // To store the logged-in user\n  const [profileData, setProfileData] = useState({\n    workExperience: \"\",\n    skills: \"\",\n  }); // To store profile data\n  const [editing, setEditing] = useState(false); // Track edit mode\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (currentUser) => {\n      if (currentUser) {\n        setUser(currentUser);\n        const userDoc = await getDoc(doc(db, \"users\", currentUser.uid));\n        if (userDoc.exists()) {\n          setProfileData(userDoc.data());\n        }\n      } else {\n        setUser(null);\n      }\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const handleEditToggle = () => {\n    setEditing(!editing);\n  };\n\n  const handleSave = async () => {\n    if (user) {\n      try {\n        await setDoc(doc(db, \"users\", user.uid), profileData);\n        setEditing(false);\n        alert(\"Profile updated successfully!\");\n      } catch (error) {\n        console.error(\"Error saving profile:\", error);\n        alert(\"Failed to save profile.\");\n      }\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setProfileData((prevData) => ({\n      ...prevData,\n      [name]: value,\n    }));\n  };\n\n  return (\n    <div className=\"profile\">\n      <header>\n        <div className=\"profile-container\">\n          <img\n            src=\"/ava.jpg\"\n            width=\"200\"\n            height=\"200\"\n            alt=\"Аватар користувача\"\n          />\n         \n        {editing ? (\n          <textarea\n            name=\"Name\"\n            value={profileData.Name}\n            onChange={handleChange}\n            placeholder=\"Додайте ваше імʼя\"\n          className=\"small-textarea\"/>\n        ) : (\n          <p>{profileData.Name || \"Імʼя не вказано\"}</p>\n        )}        </div>\n      </header>\n\n      <div className=\"bottom-text\">\n        <p>Телефон: {user ? user.phoneNumber || \"Не вказано\" : \"Не авторизовано\"}</p>\n        <p>Email: {user ? user.email : \"Не авторизовано\"}</p>\n      </div>\n\n      <div className=\"text_l\">\n        <p>ПРОФЕСІЙНИЙ ДОСВІД</p>\n        {editing ? (\n          <textarea\n            name=\"workExperience\"\n            value={profileData.workExperience}\n            onChange={handleChange}\n            placeholder=\"Додайте досвід роботи\"\n          className=\"big-textarea\"/>\n        ) : (\n          <p>{profileData.workExperience || \"Досвід роботи не вказано\"}</p>\n        )}\n\n        <p>НАВИЧКИ</p>\n        {editing ? (\n          <textarea\n            name=\"skills\"\n            value={profileData.skills}\n            onChange={handleChange}\n            placeholder=\"Додайте навички\"\n            className=\"big-textarea\"/>\n        ) : (\n          <p>{profileData.skills || \"Навички не вказано\"}</p>\n        )}\n\n        {user && (\n          <button onClick={editing ? handleSave : handleEditToggle} className=\"change\">\n            {editing ? \"Зберегти\" : \"Редагувати\"}\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}